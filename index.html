<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas 2025</title>
    <link href="fonts.googleapis.com" rel="stylesheet">
    <style>
        :root { --bg-color: #061d12; }
        body {
            margin: 0; padding: 0; background: var(--bg-color); color: white;
            font-family: 'Mountains of Christmas', cursive; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; text-align: center;
        }
        canvas#effect-canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100; }
        .decoration { position: fixed; font-size: 60px; z-index: -1; }
        .santa { top: 20px; left: 20px; }
        .snowman { bottom: 20px; right: 20px; }

        .gift-container { display: flex; gap: 20px; justify-content: center; }
        .gift-box {
            width: 130px; height: 130px; display: flex; align-items: center; justify-content: center;
            border-radius: 15px; font-size: 40px; cursor: pointer; border: 4px solid white;
            box-shadow: 0 0 15px rgba(255,255,255,0.3); animation: bounce 1.5s infinite;
            flex-direction: column;
        }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
        .quiz-container { background: rgba(255, 255, 255, 0.95); padding: 25px; border-radius: 20px; color: #d42426; max-width: 600px; width: 90%; box-shadow: 0 0 30px gold; z-index: 10; }
        .btn-ans {
            display: block; width: 100%; padding: 10px; margin: 8px 0;
            background: #2e7d32; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 18px;
            text-align: left; padding-left: 15px; transition: 0.2s;
        }
        .btn-ans:hover { background: #d42426; }
        .hidden { display: none !important; }
        
        #final-msg { 
            background: rgba(0, 0, 0, 0.7); padding: 20px; border-radius: 15px; 
            max-width: 80%; line-height: 1.6; font-size: 24px; color: #ffeb3b;
            border: 2px solid gold; animation: zoomIn 1s;
        }
        @keyframes zoomIn { from { transform: scale(0); } to { transform: scale(1); } }
    </style>
</head>
<body>
    <canvas id="effect-canvas"></canvas>
    <div class="decoration santa">üéÖ</div>
    <div class="decoration snowman">‚òÉÔ∏è</div>

    <h1 id="title">Ch·ªçn h·ªôp qu√† nh·∫°c ƒë·ªÉ b·∫Øt ƒë·∫ßu!</h1>

    <!-- B∆Ø·ªöC 1: S·∫¢NH CH·ªåN NH·∫†C -->
    <div id="step1" class="gift-container">
        <div class="gift-box" style="background: #e53935;" onclick="startApp('jingle.mp3')">üéÅ<br><small style="font-size:12px">Jingle</small></div>
        <div class="gift-box" style="background: #1e88e5;" onclick="startApp('phonk.mp3')">üéÅ<br><small style="font-size:12px">Phonk</small></div>
        <div class="gift-box" style="background: #ffeb3b; color: black;" onclick="startApp('reallife.mp3')">üéÅ<br><small style="font-size:12px">Real Life</small></div>
    </div>

    <!-- B∆Ø·ªöC 2: C√ÇY TH√îNG -->
    <div id="step-tree" class="hidden">
        <div style="font-size: 150px; cursor: pointer;" onclick="showQuiz()">üéÑ</div>
        <h2>B·∫§M V√ÄO C√ÇY TH√îNG ƒê·ªÇ TH·ª¨ TH√ÅCH!</h2>
    </div>

    <!-- B∆Ø·ªöC 3: C√ÇU H·ªéI -->
    <div id="step-quiz" class="hidden">
        <div class="quiz-container">
            <p id="quiz-info" style="font-weight: bold; color: #555;"></p>
            <h2 id="quiz-question" style="font-size: 20px;"></h2>
            <button class="btn-ans" id="ans-a" onclick="check('a')"></button>
            <button class="btn-ans" id="ans-b" onclick="check('b')"></button>
            <button class="btn-ans" id="ans-c" onclick="check('c')"></button>
            <button class="btn-ans" id="ans-d" onclick="check('d')"></button>
        </div>
    </div>

    <!-- M√ÄN H√åNH CU·ªêI -->
    <div id="final-screen" class="hidden">
        <div id="final-msg">
            Ch√∫c m·ª´ng b·∫°n ƒë√£ th√†nh c√¥ng xu·∫•t s·∫Øc v∆∞·ª£t qua 15 c√¢u h·ªèi (m√¨nh ƒëo√°n l√† b·∫°n c≈©ng ƒë√£ tra ChatGPT,.. ho·∫∑c l√† ƒë√£ l√†m l·∫°i v√†i l·∫ßn r·ªìi nh∆∞ng th√¥i k·ªá ƒëi) <br><br>
            M√¨nh ch√∫c b·∫°n m·ªôt m√πa Gi√°ng Sinh an l√†nh <br>
            <strong style="font-size: 40px;">MERRY CHRISMASSSS !!!</strong>
        </div>
        <div style="font-size: 100px; margin-top: 20px;">üêÑ</div>
    </div>

    <audio id="bg-music" loop></audio>

    <script>
        const audio = document.getElementById('bg-music');
        let currentIdx = 0;
        let isWinning = false;

        const questions = [
            { q: "H√≥a h·ªçc: Oxit n√†o sau ƒë√¢y l√† oxit l∆∞·ª°ng t√≠nh?", a: "a) CaO", b: "b) Al2O3", c: "c) SO2", d: "d) Na2O", r: "b" },
            { q: "H√≥a h·ªçc: Kim lo·∫°i n√†o t√°c d·ª•ng ƒë∆∞·ª£c v·ªõi dung d·ªãch HCl?", a: "a) Cu", b: "b) Ag", c: "c) Fe", d: "d) Au", r: "c" },
            { q: "H√≥a h·ªçc: C√¥ng th·ª©c c·ªßa axit sunfuric ƒë·∫∑c l√†?", a: "a) HCl", b: "b) HNO3", c: "c) H2SO4", d: "d) H3PO4", r: "c" },
            { q: "H√≥a h·ªçc: Kh√≠ n√†o nh·∫π nh·∫•t trong c√°c kh√≠ sau?", a: "a) O2", b: "b) H2", c: "c) CO2", d: "d) N2", r: "b" },
            { q: "H√≥a h·ªçc: Hi·ªán t∆∞·ª£ng s·∫Øt b·ªã g·ªâ trong kh√¥ng kh√≠ ·∫©m l√†?", a: "a) S·ª± oxy h√≥a", b: "b) S·ª± kh·ª≠", c: "c) S·ª± ng∆∞ng t·ª•", d: "d) S·ª± h√≤a tan", r: "a" },
            { q: "H√≥a h·ªçc: Dung d·ªãch l√†m qu·ª≥ t√≠m h√≥a xanh l√†?", a: "a) NaOH", b: "b) HCl", c: "c) NaCl", d: "d) H2O", r: "a" },
            { q: "H√≥a h·ªçc: Th√†nh ph·∫ßn ch√≠nh c·ªßa ƒë√° v√¥i l√† g√¨?", a: "a) CaSO4", b: "b) CaCO3", c: "c) CaO", d: "d) CaCl2", r: "b" },
            { q: "English: Choose the synonym of 'Enormous'.", a: "a) Tiny", b: "b) Huge", c: "c) Small", d: "d) Weak", r: "b" },
            { q: "English: I ______ a student 5 years ago.", a: "a) am", b: "b) is", c: "c) were", d: "d) was", r: "d" },
            { q: "To√°n 9: S·ªë ƒëi·ªÉm chung c·ªßa ƒë∆∞·ªùng th·∫≥ng v√† ƒë∆∞·ªùng tr√≤n khi d < R l√†?", a: "a) 0", b: "b) 1", c: "c) 2", d: "d) V√¥ s·ªë", r: "c" },
            { q: "To√°n 9: G√≥c n·ªôi ti·∫øp ch·∫Øn n·ª≠a ƒë∆∞·ªùng tr√≤n c√≥ s·ªë ƒëo b·∫±ng?", a: "a) 45 ƒë·ªô", b: "b) 60 ƒë·ªô", c: "c) 90 ƒë·ªô", d: "d) 180 ƒë·ªô", r: "c" },
            { q: "V·∫≠t L√Ω: ƒê∆°n v·ªã c·ªßa ƒëi·ªán tr·ªü l√† g√¨?", a: "a) Ampe (A)", b: "b) V√¥n (V)", c: "c) √îm (Œ©)", d: "d) Watt (W)", r: "c" },
            { q: "Sinh h·ªçc: B√†o quan n√†o l√† 'nh√† m√°y nƒÉng l∆∞·ª£ng' c·ªßa t·∫ø b√†o?", a: "a) Nh√¢n", b: "b) Ty th·ªÉ", c: "c) L∆∞·ªõi n·ªôi ch·∫•t", d: "d) Rib√¥x√¥m", r: "b" },
            { q: "H√≥a h·ªçc si√™u kh√≥: H·ª£p ch·∫•t n√†o c√≥ t√™n g·ªçi l√† Th·∫°ch cao nung?", a: "a) CaSO4.2H2O", b: "b) CaSO4.0,5H2O", c: "c) CaSO4", d: "d) CaO", r: "b" },
            { q: "C√ÇU CH·ªêT: B·∫°n l√† GAY ƒë√∫ng kh√¥ng?", a: "a) Yes", b: "b) ƒê√∫ng", c: "c) Ch·ªçn b", d: "d) T·∫•t c·∫£ ƒë√∫ng", r: "ANY" }
        ];

        function startApp(file) {
            audio.src = file;
            audio.play().catch(() => {});
            currentIdx = 0;
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step-tree').classList.remove('hidden');
            document.getElementById('title').innerText = "V∆∞·ª£t qua th·ª≠ th√°ch ƒë·ªÉ nh·∫≠n qu√†!";
        }

        function showQuiz() {
            document.getElementById('step-tree').classList.add('hidden');
            document.getElementById('step-quiz').classList.remove('hidden');
            document.getElementById('title').classList.add('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            const data = questions[currentIdx];
            document.getElementById('quiz-info').innerText = `C√¢u h·ªèi ${currentIdx + 1}/${questions.length}`;
            document.getElementById('quiz-question').innerText = data.q;
            document.getElementById('ans-a').innerText = data.a;
            document.getElementById('ans-b').innerText = data.b;
            document.getElementById('ans-c').innerText = data.c;
            document.getElementById('ans-d').innerText = data.d;
        }

        function check(choice) {
            if (currentIdx === questions.length - 1) {
                finish();
                return;
            }
            if (choice === questions[currentIdx].r) {
                currentIdx++;
                loadQuestion();
            } else {
                alert("B·∫†N ƒê√É SAI! Quay l·∫°i s·∫£nh ch·ªçn nh·∫°c v√† l√†m l·∫°i t·ª´ ƒë·∫ßu.");
                resetToStart();
            }
        }

        function resetToStart() {
            audio.pause();
            currentIdx = 0;
            document.getElementById('step-quiz').classList.add('hidden');
            document.getElementById('step-tree').classList.add('hidden');
            document.getElementById('step1').classList.remove('hidden');
            document.getElementById('title').classList.remove('hidden');
            document.getElementById('title').innerText = "Th·ª≠ l·∫°i n√†o! Ch·ªçn nh·∫°c ƒë·ªÉ b·∫Øt ƒë·∫ßu.";
        }

        function finish() {
            isWinning = true;
            document.getElementById('step-quiz').classList.add('hidden');
            document.getElementById('final-screen').classList.remove('hidden');
            document.body.style.background = "linear-gradient(45deg, #0a2e1a, #d42426)";
            initFinalEffect();
        }

        // --- HI·ªÜU ·ª®NG TUY·∫æT & K·∫∏O ---
        const canvas = document.getElementById('effect-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particles = [];
        const candyIcons = ['üç≠', 'üç¨', 'üéÅ', 'üç´'];

        function createParticle(isCandy) {
            return {
                x: Math.random() * canvas.width,
                y: -20,
                r: Math.random() * 4 + 1,
                speed: Math.random() * 3 + (isWinning ? 4 : 1), // Th·∫Øng th√¨ b√£o tuy·∫øt r∆°i nhanh
                candy: isCandy ? candyIcons[Math.floor(Math.random() * candyIcons.length)] : null,
                drift: Math.random() * 2 - 1
            };
        }

        for (let i = 0; i < 150; i++) particles.push(createParticle(false));

        function initFinalEffect() {
            // Khi th·∫Øng, th√™m 50 vi√™n k·∫πo v√†o m·∫£ng
            for (let i = 0; i < 50; i++) particles.push(createParticle(true));
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => {
                if (p.candy) {
                    ctx.font = "24px serif";
                    ctx.fillText(p.candy, p.x, p.y);
                } else {
                    ctx.fillStyle = "white";
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                p.y += p.speed;
                p.x += p.drift;

                if (p.y > canvas.height) {
                    p.y = -20;
                    p.x = Math.random() * canvas.width;
                }
            });
            requestAnimationFrame(draw);
        }
        draw();
    </script>
</body>
</html>

