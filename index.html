<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi√°ng Sinh Vui V·∫ª 2025</title>
    <link href="fonts.googleapis.com" rel="stylesheet">
    <style>
        :root { --bg-color: #061d12; }
        body {
            margin: 0; padding: 0; background: var(--bg-color); color: white;
            font-family: 'Mountains of Christmas', cursive; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; text-align: center;
        }
        canvas#snow { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100; }
        .decoration { position: fixed; font-size: 60px; z-index: -1; }
        .santa { top: 20px; left: 20px; }
        .snowman { bottom: 20px; right: 20px; }

        .gift-container { display: flex; gap: 20px; justify-content: center; }
        .gift-box {
            width: 130px; height: 130px; display: flex; align-items: center; justify-content: center;
            border-radius: 15px; font-size: 40px; cursor: pointer; border: 4px solid white;
            box-shadow: 0 0 15px rgba(255,255,255,0.3); animation: bounce 1.5s infinite;
            flex-direction: column;
        }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
        .quiz-container { background: rgba(255, 255, 255, 0.95); padding: 25px; border-radius: 20px; color: #d42426; max-width: 550px; width: 90%; box-shadow: 0 0 30px gold; }
        .btn-ans {
            display: block; width: 100%; padding: 10px; margin: 8px 0;
            background: #2e7d32; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 18px;
            text-align: left; padding-left: 15px; transition: 0.2s;
        }
        .btn-ans:hover { background: #d42426; }
        .hidden { display: none !important; }
        .cow-img { font-size: 120px; margin-top: 10px; animation: swing 2s infinite ease-in-out; }
        @keyframes swing { 0%, 100% { transform: rotate(-10deg); } 50% { transform: rotate(10deg); } }
    </style>
</head>
<body>
    <canvas id="snow"></canvas>
    <div class="decoration santa">üéÖ</div>
    <div class="decoration snowman">‚òÉÔ∏è</div>

    <h1 id="title">Ch·ªçn h·ªôp qu√† nh·∫°c ƒë·ªÉ b·∫Øt ƒë·∫ßu!</h1>

    <!-- M√ÄN H√åNH 1: S·∫¢NH CH·ªåN NH·∫†C -->
    <div id="step1" class="gift-container">
        <div class="gift-box" style="background: #e53935;" onclick="startApp('jingle.mp3')">üéÅ<br><small style="font-size:12px">Jingle</small></div>
        <div class="gift-box" style="background: #1e88e5;" onclick="startApp('phonk.mp3')">üéÅ<br><small style="font-size:12px">Phonk</small></div>
        <div class="gift-box" style="background: #ffeb3b; color: black;" onclick="startApp('reallife.mp3')">üéÅ<br><small style="font-size:12px">Real Life</small></div>
    </div>

    <!-- M√ÄN H√åNH 2: C√ÇY TH√îNG -->
    <div id="step-tree" class="hidden">
        <div style="font-size: 150px; cursor: pointer;" onclick="showQuiz()">üéÑ</div>
        <h2>B·∫§M V√ÄO C√ÇY TH√îNG ƒê·ªÇ GI·∫¢I ƒê·ªê!</h2>
    </div>

    <!-- M√ÄN H√åNH 3: C√ÇU H·ªéI -->
    <div id="step-quiz" class="hidden">
        <div class="quiz-container">
            <p id="quiz-info" style="font-weight: bold; color: #555;"></p>
            <h2 id="quiz-question" style="font-size: 22px;"></h2>
            <button class="btn-ans" id="ans-a" onclick="check('a')"></button>
            <button class="btn-ans" id="ans-b" onclick="check('b')"></button>
            <button class="btn-ans" id="ans-c" onclick="check('c')"></button>
            <button class="btn-ans" id="ans-d" onclick="check('d')"></button>
        </div>
    </div>

    <!-- M√ÄN H√åNH CU·ªêI -->
    <div id="final-screen" class="hidden">
        <h1 style="font-size: 100px; color: #ffeb3b; text-shadow: 4px 4px 15px #000; margin-bottom:0;">+ 1 con b√≤</h1>
        <div class="cow-img">üêÑ</div>
    </div>

    <audio id="bg-music" loop></audio>

    <script>
        const audio = document.getElementById('bg-music');
        let currentIdx = 0;

        const questions = [
            { q: "H√≥a h·ªçc 1: Oxit n√†o sau ƒë√¢y l√† oxit l∆∞·ª°ng t√≠nh?", a: "a) CaO", b: "b) Al2O3", c: "c) SO2", d: "d) Na2O", r: "b" },
            { q: "H√≥a h·ªçc 2: Kim lo·∫°i n√†o t√°c d·ª•ng ƒë∆∞·ª£c v·ªõi dung d·ªãch HCl?", a: "a) Cu", b: "b) Ag", c: "c) Fe", d: "d) Au", r: "c" },
            { q: "H√≥a h·ªçc 3: C√¥ng th·ª©c c·ªßa axit sunfuric ƒë·∫∑c l√†?", a: "a) HCl", b: "b) HNO3", c: "c) H2SO4", d: "d) H3PO4", r: "c" },
            { q: "H√≥a h·ªçc 4: Kh√≠ n√†o nh·∫π nh·∫•t trong c√°c kh√≠ sau?", a: "a) O2", b: "b) H2", c: "c) CO2", d: "d) N2", r: "b" },
            { q: "H√≥a h·ªçc 5: Hi·ªán t∆∞·ª£ng s·∫Øt b·ªã g·ªâ trong kh√¥ng kh√≠ ·∫©m l√†?", a: "a) S·ª± oxy h√≥a", b: "b) S·ª± kh·ª≠", c: "c) S·ª± ng∆∞ng t·ª•", d: "d) S·ª± h√≤a tan", r: "a" },
            { q: "H√≥a h·ªçc 6: Dung d·ªãch l√†m qu·ª≥ t√≠m h√≥a xanh l√†?", a: "a) NaOH", b: "b) HCl", c: "c) NaCl", d: "d) H2O", r: "a" },
            { q: "H√≥a h·ªçc 7: Th√†nh ph·∫ßn ch√≠nh c·ªßa ƒë√° v√¥i l√† g√¨?", a: "a) CaSO4", b: "b) CaCO3", c: "c) CaO", d: "d) CaCl2", r: "b" },
            { q: "English 1: Choose the synonym of 'Enormous'.", a: "a) Tiny", b: "b) Huge", c: "c) Small", d: "d) Weak", r: "b" },
            { q: "English 2: I ______ a student 5 years ago.", a: "a) am", b: "b) is", c: "c) were", d: "d) was", r: "d" },
            { q: "To√°n 9 (1): S·ªë ƒëi·ªÉm chung c·ªßa ƒë∆∞·ªùng th·∫≥ng v√† ƒë∆∞·ªùng tr√≤n khi d < R l√†?", a: "a) 0", b: "b) 1", c: "c) 2", d: "d) V√¥ s·ªë", r: "c" },
            { q: "To√°n 9 (2): G√≥c n·ªôi ti·∫øp ch·∫Øn n·ª≠a ƒë∆∞·ªùng tr√≤n c√≥ s·ªë ƒëo b·∫±ng?", a: "a) 45 ƒë·ªô", b: "b) 60 ƒë·ªô", c: "c) 90 ƒë·ªô", d: "d) 180 ƒë·ªô", r: "c" },
            { q: "V·∫≠t L√Ω: ƒê∆°n v·ªã c·ªßa ƒëi·ªán tr·ªü l√† g√¨?", a: "a) Ampe (A)", b: "b) V√¥n (V)", c: "c) √îm (Œ©)", d: "d) Watt (W)", r: "c" },
            { q: "Sinh h·ªçc: B√†o quan n√†o l√† 'nh√† m√°y nƒÉng l∆∞·ª£ng' c·ªßa t·∫ø b√†o?", a: "a) Nh√¢n", b: "b) Ty th·ªÉ", c: "c) L∆∞·ªõi n·ªôi ch·∫•t", d: "d) Rib√¥x√¥m", r: "b" },
            { q: "H√≥a SI√äU KH√ì: H·ª£p ch·∫•t n√†o c√≥ t√™n g·ªçi l√† Th·∫°ch cao nung?", a: "a) CaSO4.2H2O", b: "b) CaSO4.0,5H2O", c: "c) CaSO4", d: "d) CaO", r: "b" },
            { q: "B·∫†N L√Ä GAY ƒê√öNG KH√îNG?", a: "a) Yes", b: "b) ƒê√∫ng", c: "c) Ch·ªçn ƒë√°p √°n b", d: "d) C·∫£ 3 tr√™n", r: "ANY" }
        ];

        function startApp(file) {
            audio.src = file;
            audio.play().catch(() => {});
            currentIdx = 0;
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step-tree').classList.remove('hidden');
            document.getElementById('title').innerText = "Ch√†o m·ª´ng t·ªõi th·ª≠ th√°ch Gi√°ng Sinh 2025!";
            document.getElementById('title').classList.remove('hidden');
        }

        function showQuiz() {
            document.getElementById('step-tree').classList.add('hidden');
            document.getElementById('step-quiz').classList.remove('hidden');
            document.getElementById('title').classList.add('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            const data = questions[currentIdx];
            document.getElementById('quiz-info').innerText = `C√¢u h·ªèi ${currentIdx + 1}/${questions.length}`;
            document.getElementById('quiz-question').innerText = data.q;
            document.getElementById('ans-a').innerText = data.a;
            document.getElementById('ans-b').innerText = data.b;
            document.getElementById('ans-c').innerText = data.c;
            document.getElementById('ans-d').innerText = data.d;
        }

        function check(choice) {
            const data = questions[currentIdx];
            
            // N·∫øu l√† c√¢u cu·ªëi c√πng (GAY), tr·∫£ l·ªùi g√¨ c≈©ng th·∫Øng
            if (currentIdx === questions.length - 1) {
                finish();
                return;
            }

            // N·∫øu tr·∫£ l·ªùi ƒë√∫ng
            if (choice === data.r) {
                currentIdx++;
                loadQuestion();
            } 
            // N·∫æU TR·∫¢ L·ªúI SAI -> RA S·∫¢NH CH·ªú
            else {
                alert("B·∫†N ƒê√É SAI! Quay l·∫°i s·∫£nh ch·ªçn nh·∫°c v√† b·∫Øt ƒë·∫ßu l·∫°i t·ª´ ƒë·∫ßu nh√©!");
                resetToStart();
            }
        }

        function resetToStart() {
            audio.pause();
            audio.currentTime = 0;
            currentIdx = 0;
            // ·∫®n c√°c m√†n h√¨nh hi·ªán t·∫°i
            document.getElementById('step-quiz').classList.add('hidden');
            document.getElementById('step-tree').classList.add('hidden');
            // Hi·ªán s·∫£nh ch·ªçn nh·∫°c
            document.getElementById('step1').classList.remove('hidden');
            document.getElementById('title').classList.remove('hidden');
            document.getElementById('title').innerText = "Ch·ªçn h·ªôp qu√† nh·∫°c ƒë·ªÉ b·∫Øt ƒë·∫ßu l·∫°i!";
        }

        function finish() {
            document.getElementById('step-quiz').classList.add('hidden');
            document.getElementById('final-screen').classList.remove('hidden');
            document.body.style.background = "linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #8b00ff)";
        }

        // Tuy·∫øt r∆°i
        const canvas = document.getElementById('snow');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const p = Array.from({ length: 150 }, () => ({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*4+1 }));
        function draw() {
            ctx.clearRect(0,0,canvas.width, canvas.height); ctx.fillStyle = "white"; ctx.beginPath();
            p.forEach(s => { ctx.moveTo(s.x, s.y); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); s.y += 1.5; if(s.y > canvas.height) s.y = -10; });
            ctx.fill(); requestAnimationFrame(draw);
        }
        draw();
    </script>
</body>
</html>

